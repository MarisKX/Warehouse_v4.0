{% extends "base.html" %}
{% load static %}

{% block extra_title %}Add Product{% endblock %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-8 offset-2 p-3 d-flex justify-content-center pb-4">
            <h4 class="m-1" id="toggle_add_category_h">Add New Category</h4>
            <button type="button" class="btn bg-brown btn-floating" id="toggle_add_category_btn"><i class="fa-solid fa-plus"></i></button>
            <!-- Category Form -->
            <form method="POST" action="." class="general-form" id="category-form" hidden>
                {% csrf_token %}
                <legend>Add New Category</legend>
                <!-- Name input -->
                <div class="form-outline mb-4 row category-input-wrap">
                    {{ add_category }}
                </div>
                <!-- Submit button -->
                <div class="form-outline mb-4 p-1 row">
                    <button type="submit" class="col-7 offset-2 btn bg-green" name="add-category-btn">Create New Category</button>
                    <button id="close-category-form" type="submit" class="col-1 offset-1 btn bg-brown"><i class="fa-solid fa-xmark"></i></button>
                </div>
            </form>
        </div>
        <div class="col-8 offset-2 p-4 d-flex justify-content-center pb-4">
            <h4 class="m-1" id="toggle_add_subcategory_h">Add New SubCategory</h4>
            <button type="button" class="btn bg-brown btn-floating" id="toggle_add_subcategory_btn"><i class="fa-solid fa-plus"></i></button>
            <!-- Subcategory Form -->
            <form method="POST" action="." class="general-form" id="subcategory-form" hidden>
                {% csrf_token %}
                <legend>Add New SubCategory</legend>
                <!-- Name input -->
                <div class="form-outline mb-4 row category-input-wrap">
                    {{ add_subcategory }}
                </div>
                <!-- Submit button -->
                <div class="form-outline mb-4 p-1 row">
                    <button type="submit" class="col-7 offset-2 btn bg-green" name="add-subcategory-btn">Create New Category</button>
                    <button id="close-subcategory-form" type="submit" class="col-1 offset-1 btn bg-brown"><i class="fa-solid fa-xmark"></i></button>
                </div>
            </form>
        </div>
        <div class="col-8 offset-2 p-4 d-flex justify-content-center pb-4">
                <form method="POST" action="." class="general-form" id="product-form" accept-charset="utf-8" enctype="multipart/form-data">
                    {% csrf_token %}
                    <legend>Add New Product</legend>
                    <!-- Name input -->
                    <div class="form-outline mb-4 row category-input-wrap">
                        {{ add_product }}
                    </div>
                    <!-- 
                    <legend>Add New Product</legend>

                    <div class="form-outline mb-4 row">
                        <label class="form-label col-6 text-green" for="category">Product Category</label>
                        <select id="category" class="select select-category col-6 add-product-select-field" name="category">
                            <option value="" disabled selected hidden>Select Category...</option>
                            {% for category in all_categories %}
                                <option class="category-value" value="{{ category.id }}">{{ category.display_name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-outline mb-4 row">
                        <label class="form-label col-6 text-green" for="form2Example1">Product Subcategory</label>
                        <select class="select select-subcategory col-6 add-product-select-field" name="subcategory">
                            <option value="" disabled selected hidden>Select Subcategory...</option>
                        </select>
                    </div>

                    <div class="form-outline mb-4 row">
                        <label class="form-label col-6 text-green" for="name">Full Name</label>
                        <input type="text" id="name" class="form-control col-6 add-product-input-field" name="full_name"/>
                    </div>

                    <div class="form-check d-flex mb-4 row">
                        <div class="col-6 p-2">
                            <label class="form-check-label text-green" for="env_tax">Enviroment Tax</label>
                            <input class="form-check-input" type="checkbox" value="" id="enviroment_tax" name="enviroment_tax"/>
                        </div>
                        <div class="col-6 env-tax-input-field hidden">
                            <label class="form-label" for="env-tax" hidden></label>
                            <input 
                                type="number"
                                id="env-tax"
                                class="form-control add-product-input-field-sm"
                                name="enviroment_tax_amount"
                                min="0.00" max="5.00"
                                step="0.01"
                                value="0.00"/>
                        </div>
                    </div>
                    -->

                    <!-- Submit button -->
                    <div class="form-outline mb-4 row">
                        <button type="submit" class="col-8 offset-2 btn bg-green" name="add-product-btn">Create New Product</button>
                    </div>
                </form>
        </div>
    </div>
    <div class="col-md-6 offset-md-3 pb-5 pt-5">
    </div>

{% endblock %}

{% block postloadjs %}
    {{ block.super }}
    <!-- Custom Scripts -->
    <script src="{% static 'js/newProductFormsHandler.js' %}"></script>

{% endblock %}